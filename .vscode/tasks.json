{
    "version": "2.0.0",
    "tasks": [

        //// DOTNET TASKS
        {
            "label": "build",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                "${workspaceFolder}/EXAMPLES & EXERCISES/Code Challenge - Password Checker/HelloWorldDemo/HelloWorldDemo.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "publish",
            "command": "dotnet",
            "type": "process",
            "args": [
                "publish",
                "${workspaceFolder}/EXAMPLES & EXERCISES/Code Challenge - Password Checker/HelloWorldDemo/HelloWorldDemo.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "watch",
            "command": "dotnet",
            "type": "process",
            "args": [
                "watch",
                "run",
                "--project",
                "${workspaceFolder}/EXAMPLES & EXERCISES/Code Challenge - Password Checker/HelloWorldDemo/HelloWorldDemo.csproj"
            ],
            "problemMatcher": "$msCompile"
        },
        

        
        //// PARENT TASKS
        {
            "label": "(PARENT) Create New Project & Solution",
            "detail": "This parent task is meant to create a solution file of the same name as the project and add a single project to it within the same project directory.",
            "dependsOn": ["(CHILD) NewC#Project", "(CHILD) File (.csproj) Selection Pause", "(PARENT) Create & Add to Solution for SPECIFIED Project"],
            "dependsOrder": "sequence",
            "problemMatcher": "$msCompile"
        },
        {
            "label": "(PARENT) Create & Add to Solution for ACTIVE Project",
            "detail": "This parent task is meant to create a solution file of the same name as the project and add a single project to it within the same project directory.",
            "dependsOn": ["(CHILD) Create_SameDir_Sln", "(CHILD) Add_Proj_To_SameNameSln"],
            "dependsOrder": "sequence",
            "problemMatcher": "$msCompile"
        },
        {
            "label": "(PARENT) Create & Add to Solution for SPECIFIED Project",
            "detail": "This parent task is meant to create a solution file of the same name as the project and add a single project to it within the same project directory.",
            "dependsOn": ["(CHILD) Create_CustomName_Sln", "(CHILD) Add_Proj_To_CustomNameSln"],
            "dependsOrder": "sequence",
            "problemMatcher": "$msCompile"
        },

        
        //// CHILD TASKS
        {
            "label": "(CHILD) NewC#Project",
            "command": "dotnet",
            "type": "process",
            "args": [
                "new",
                "console",
                "--use-program-main",
                "-n",
                "${input:ProjectName}"
            ],
            "options": {
                "cwd": "${input:ProjectRootLocation_RELATIVE}"
            },
            "problemMatcher": "$msCompile"
        },

        // make sure the .csproj file (or any other file at the root project directory) is active before running the task
        {
            "label": "(CHILD) Create_SameDir_Sln",
            "detail": "This child task will create a solution file (.sln) with the same name as the project of the currently active .csproj file & output the .sln file to the project directory. Make sure the .csproj file (or any other file at the root project directory) is active before running the task.",
            "command": "dotnet",
            "type": "process",
            "args": [
                "new",
                "sln",
                "-n",
                "${fileDirnameBasename}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": "$msCompile"
        },
        {
            "label": "(CHILD) Create_CustomName_Sln",
            "detail": "",
            "command": "dotnet",
            "type": "process",
            "args": [
                "new",
                "sln",
                "-n",
                "${input:SolutionName}"
            ],
            "options": {
                "cwd": "${input:SolutionRootLocation_RELATIVE}"
            },
            "problemMatcher": "$msCompile"
        },

        // make sure the .csproj file is active before running the task
        {
            "label": "(CHILD) Add_Proj_To_SameNameSln",
            "detail": "This child task will add the project of the currently active .csproj file to the solution file (.sln) of the same name as the project. Make sure the .csproj file is active before running the task.",
            "command": "dotnet",
            "type": "process",
            "args": [
                "sln",
                "${fileDirnameBasename}.sln",
                "add",
                "${fileBasename}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": "$msCompile"
        },

        // make sure the .csproj file is active before running the task
        {
            "label": "(CHILD) Add_Proj_To_CustomNameSln",
            "detail": "This child task will add the project of the currently active .csproj file to a user-inputted solution file (.sln). Make sure the .csproj file is active before running the task.",
            "command": "dotnet",
            "type": "process",
            "args": [
                "sln",
                "${input:SolutionName}.sln",
                "add",
                "${file}"
            ],
            "options": {
                "cwd": "${input:SolutionRootLocation_RELATIVE}"
            },
            "problemMatcher": "$msCompile"
        },
        {
            "label": "(CHILD) File (.csproj) Selection Pause",
            "detail": "This child task will pause the compound task in order to allow user to select the appropriate file (e.g. a .csproj file) before continuing.",
            "command": "echo Correct file selected? ${input:FileSelectPausePrompt}",
            "type": "shell",
            "hide": true,
            "problemMatcher": []
        },

        
    ],
    "inputs": [
        {
            "id": "SolutionName",
            "description": "What is the name of the new solution file (without the '.sln')?",
            "default": "${fileDirnameBasename}",
            "type": "promptString"
        },
        {
            "id": "ProjectName",
            "description": "What is the name of the new project?",
            "default": "NewProjectDefaultName",
            "type": "promptString"
        },
        {
            "id": "SolutionRootLocation_RELATIVE",
            "description": "What is the relative root directory path of the new solution file? (relative to repo root)",
            "default": "${relativeFileDirname}",
            "type": "promptString"
        },
        {
            "id": "ProjectRootLocation_RELATIVE",
            "description": "What is the relative root directory path of the new project, excluding project folder name (relative to repo root)?",
            "default": "C# PROJECTS",
            "type": "promptString"
        },
        {
            "id": "FileSelectPausePrompt",
            "description": "Before creating solution file, choose 'Yes' or 'No' from dropdown to confirm correct file selection.",
            "options": [
                "Yes",
                "No"
              ],
            "default": "No",
            "type": "pickString"
        }

    ]
}